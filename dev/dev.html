<!DOCTYPE html>
<html lang="en" class="fuelux">
	<head>
		<meta charset="utf-8">
		<title>dev.html</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link href="../bower_components/bootstrap/dist/css/bootstrap.css" rel="stylesheet" type="text/css">
		<!--<link href="../dist/css/fuelux.css" rel="stylesheet" type="text/css">--><!--CLIENT-SIDE LESS COMPILATION FOR WATCHER-LESS DEV-->
		<link href="../less/fuelux.less" rel="stylesheet/less" type="text/css"/>
		<script src="//cdnjs.cloudflare.com/ajax/libs/less.js/1.7.0/less.min.js"></script>
		<script type="text/javascript">if (window.console && window.console.clear) {
			window.console.clear();
		}</script>
		<script src="../bower_components/requirejs/require.js" type="text/javascript"></script>
		<script type="text/javascript">
			(function () {
				requirejs.config({
					config: {
						moment: {
							noGlobal: true
						}
					},
					paths: {
						jquery: '../bower_components/jquery/dist/jquery',
						underscore: '../bower_components/underscore/underscore',
						bootstrap: '../bower_components/bootstrap/dist/js/bootstrap',
						//moment: '../bower_components/moment/min/moment-with-langs',
						fuelux: '../js'
					},
					shim: {
						'bootstrap': {
							deps: ['jquery'],
							exports: 'bootstrap'
						}
					}
				});
			})();
			require(['jquery', 'fuelux/all', 'underscore', 'tree', 'treeAndItems'], function ($, _) {

				var folders, foldersAndItems;
				$.when(
						$.getJSON("folders.json", function(data) {
							folders = data;
						}),
						$.getJSON("foldersAndItems.json", function(data) {
							foldersAndItems = data;
						})
				).then(function() {
							if (folders) {
								window.folders = folders;
								$('#myTree2').tree({
									dataSource: window.treeDataSource,
									multiSelect: false,
									cacheItems: true,
									folderSelect: true,
									intermediate: true
								});
							}
							if (foldersAndItems) {
								//and pass downloaded data
								window.foldersAndItems = foldersAndItems;
								$('#myTree3').tree({
									dataSource: window.treeDataSourceItems,
									multiSelect: false,
									cacheItems: true,
									folderSelect: true,
									intermediate: true
								});
							}
						});
				$('#myTree2').on('updated.fu.tree', function (e, data) {
					// do something
					console.log(data)
				});
				$('#myTree3').on('updated.fu.tree', function (e, data) {
					// do something
					console.log(data)
				})

			});
		</script>
	</head>
	<body style="padding: 20px;">
		<div class="container" style="padding: 20px; margin-top:20px;">            <!--insert control here-->
			<ul class="tree tree-folder-select tree-intermediate" id="myTree2" role="tree">
				<li class="tree-branch hide branch-closed" data-template="treebranch" role="treeitem" aria-expanded="false">
					<div class="tree-branch-header">
						<div class="checkbox" data-initialize="checkbox">
							<label class="checkbox-custom">
								<input class="sr-only" type="checkbox" value="">
									<span class="checkbox-label">

									</span>
							</label>
						</div>
						<button class="glyphicon icon-caret glyphicon-play"><span class="sr-only">Open</span></button>
						<button class="tree-branch-name">
							<span class="tree-label"></span>
						</button>
					</div>
					<ul class="tree-branch-children" role="group"></ul>
					<div class="tree-loader" role="alert">Loading...</div>
				</li>
				<li class="tree-item hide" data-template="treeitem" role="treeitem">
					<div class="checkbox" data-initialize="checkbox">
						<label class="checkbox-custom">
							<input class="sr-only" type="checkbox" value="">
									<span class="checkbox-label">

									</span>
						</label>
					</div>
					<button class="tree-item-name">
						<span class="tree-label"></span>
					</button>
				</li>
			</ul>
		</div>

		<div class="container" style="padding: 20px; margin-top:20px;">            <!--insert control here-->
			<ul class="tree tree-folder-select tree-intermediate" id="myTree3" role="tree">
				<li class="tree-branch hide branch-closed" data-template="treebranch" role="treeitem" aria-expanded="false">
					<div class="tree-branch-header">
						<div class="checkbox" data-initialize="checkbox">
							<label class="checkbox-custom">
								<input class="sr-only" type="checkbox" value="">
									<span class="checkbox-label">

									</span>
							</label>
						</div>
						<button class="glyphicon icon-caret glyphicon-play"><span class="sr-only">Open</span></button>
						<button class="tree-branch-name">
							<span class="tree-label"></span>
						</button>
					</div>
					<ul class="tree-branch-children" role="group"></ul>
					<div class="tree-loader" role="alert">Loading...</div>
				</li>
				<li class="tree-item hide" data-template="treeitem" role="treeitem">
					<div class="checkbox" data-initialize="checkbox">
						<label class="checkbox-custom">
							<input class="sr-only" type="checkbox" value="">
									<span class="checkbox-label">

									</span>
						</label>
					</div>
					<button class="tree-item-name">
						<span class="tree-label"></span>
					</button>
				</li>
			</ul>
		</div>


	</body>
</html>
